# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–î–∞—Ç–∞:** 17 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–ª–µ—Ñ–æ–Ω –≥—Ä–µ–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## üî• –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã

### 1. –ò–∑–±—ã—Ç–æ—á–Ω—ã–π polling (HomePage)
**–î–æ:** API –∑–∞–ø—Ä–æ—Å—ã –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥  
**–ü–æ—Å–ª–µ:** API –∑–∞–ø—Ä–æ—Å—ã –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (300 —Å–µ–∫—É–Ω–¥)  
**–≠–∫–æ–Ω–æ–º–∏—è:** 90% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤  

```typescript
// –ë—ã–ª–æ:
const interval = setInterval(fetchDashboardStats, 30000); // 30s

// –°—Ç–∞–ª–æ:
const interval = setInterval(fetchDashboardStats, 300000); // 5min
```

---

### 2. –°–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã–µ scroll handlers
**–î–æ:** Throttle 100ms (10 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É)  
**–ü–æ—Å–ª–µ:** Throttle 300ms (3 —Ä–∞–∑–∞ –≤ —Å–µ–∫—É–Ω–¥—É)  
**–≠–∫–æ–Ω–æ–º–∏—è:** 70% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π —Å–∫—Ä–æ–ª–ª–∞  

**–§–∞–π–ª—ã:**
- `NewsPage.tsx` (2 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞)
- `EventsPage.tsx` (2 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞)

```typescript
// –ë—ã–ª–æ:
timeoutId = setTimeout(handleScroll, 100);

// –°—Ç–∞–ª–æ:
timeoutId = setTimeout(handleScroll, 300);
```

---

### 3. –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ useEffect
**–ü—Ä–æ–±–ª–µ–º–∞:** `fetchNews` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö ‚Üí –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏  
**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω `fetchNews` –∏–∑ dependencies —Å —è–≤–Ω—ã–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º  

```typescript
// –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ NewsPage.tsx
useEffect(() => {
  if (isInitialized && categories.length > 0) {
    fetchNews(1);
  }
  // fetchNews —É–±—Ä–∞–Ω –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
  // eslint-disable-next-line react-hooks/exhaustive-deps
}, [selectedCategory, selectedSubcategory, isInitialized, categories.length]);
```

---

### 4. –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ Framer Motion –∞–Ω–∏–º–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** 
- `staggerChildren` –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
- –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∫–∞
- –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ transform/scale –ø—Ä–∏ hover

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±—Ä–∞–Ω `staggerChildren` (—ç–∫–æ–Ω–æ–º–∏—Ç –º–Ω–æ–≥–æ CPU)
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useMemo` –¥–ª—è variants

**–§–∞–π–ª—ã:**
- `HomePage.tsx`
- `NewsPage.tsx`
- `App.tsx`

```typescript
// –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
const reduceMotion = useMemo(() => shouldReduceMotion(), []);

const containerVariants = useMemo(() => {
  if (reduceMotion) {
    return { hidden: { opacity: 1 }, visible: { opacity: 1 } };
  }
  return {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: { duration: 0.3 }
      // –£–±—Ä–∞–Ω staggerChildren
    }
  };
}, [reduceMotion]);
```

---

## üõ†Ô∏è –ù–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã

### `/webapp/src/utils/performance.ts`

–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:

- **`isLowPerformanceDevice()`** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–∞–±–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ:
  - –î–æ—Å—Ç—É–ø–Ω–æ–π –ø–∞–º—è—Ç–∏ (< 1GB heap)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤—É —è–¥–µ—Ä (‚â§ 2)
  - –¢–∏–ø—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (2g, slow-2g)
  - User agent (—Å—Ç–∞—Ä—ã–µ Android/iOS)

- **`shouldReduceMotion()`** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
  - –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `prefers-reduced-motion`
  - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

- **`getPerformanceLevel()`** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `'low'` | `'medium'` | `'high'`

- **`logDevicePerformanceInfo()`** - –ª–æ–≥–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚ö†Ô∏è Polling –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- ‚ö†Ô∏è Scroll events: 10/—Å–µ–∫
- ‚ö†Ô∏è –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ —Å stagger
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚úÖ Polling –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (-90%)
- ‚úÖ Scroll events: 3/—Å–µ–∫ (-70%)
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç–∫–ª—é—á–∞—é—Ç—Å—è –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∞–Ω–∏–º–∞—Ü–∏–π

---

## üéØ –î–∞–ª—å–Ω–µ–π—à–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏):

1. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `react-window` –∏–ª–∏ `react-virtualized`
   - –†–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
   - –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è NewsPage –∏ EventsPage –ø—Ä–∏ >100 —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

2. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
   ```typescript
   const NewsCard = React.memo(({ item }) => {
     // ...
   }, (prev, next) => prev.item.id === next.item.id);
   ```

3. **Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - –î–æ–±–∞–≤–∏—Ç—å `loading="lazy"` –¥–ª—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Intersection Observer

4. **Code splitting –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º**
   ```typescript
   const NewsPage = lazy(() => import('./pages/NewsPage'));
   ```

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1 –º–µ—Å—è—Ü):

1. **Service Worker –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å API –æ—Ç–≤–µ—Ç—ã
   - Offline-first —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle size**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å `webpack-bundle-analyzer`
   - Tree-shaking –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞

3. **Debouncing –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å debounce –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
   - –ò–∑–±–µ–≥–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (2-3 –º–µ—Å—è—Ü–∞):

1. **Server-Side Rendering (SSR)**
   - Next.js –∏–ª–∏ Remix
   - –ë—ã—Å—Ç—Ä–µ–µ –ø–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

2. **Progressive Web App (PWA)**
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
   - Push notifications

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - Web Vitals
   - Real User Monitoring (RUM)

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### Chrome DevTools:

1. **Performance**:
   ```
   DevTools ‚Üí Performance ‚Üí Record
   ‚Üí –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
   ‚Üí Stop ‚Üí –ê–Ω–∞–ª–∏–∑ FPS, Long Tasks
   ```

2. **CPU Throttling**:
   ```
   DevTools ‚Üí Performance ‚Üí CPU: 4x slowdown
   ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–ª–∞–≤–Ω–æ—Å—Ç—å
   ```

3. **Memory**:
   ```
   DevTools ‚Üí Memory ‚Üí Take Heap Snapshot
   ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
   ```

### Lighthouse:

```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ DevTools
npx lighthouse http://localhost:5173 --view
```

–¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- Performance: >90
- FCP (First Contentful Paint): <1.8s
- LCP (Largest Contentful Paint): <2.5s
- TBT (Total Blocking Time): <200ms

---

## üìù Checklist –¥–ª—è –±—É–¥—É—â–∏—Ö —Ñ–∏—á

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

- [ ] –ù–µ—Ç –ª–∏ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö re-renders?
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ `React.memo` –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?
- [ ] –ï—Å—Ç—å –ª–∏ `useMemo`/`useCallback` –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π?
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç–∫–ª—é—á–∞—é—Ç—Å—è –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö?
- [ ] Scroll handlers –∏—Å–ø–æ–ª—å–∑—É—é—Ç throttle/debounce?
- [ ] –ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ useEffect?
- [ ] Polling –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã —Ä–∞–∑—É–º–Ω—ã–µ (>1 –º–∏–Ω—É—Ç—ã)?

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [React Performance Optimization](https://react.dev/learn/render-and-commit)
- [Framer Motion Performance](https://www.framer.com/motion/guide-reduce-bundle-size/)
- [Web Vitals](https://web.dev/vitals/)
- [React DevTools Profiler](https://react.dev/learn/react-developer-tools)

---

**–ê–≤—Ç–æ—Ä:** Cursor AI  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-17

