<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title or "PulseAI - AI-Powered News & Events" }}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='images/favicon.svg') }}">
    <link rel="alternate icon" href="{{ url_for('static', filename='images/favicon.svg') }}">
    
    <!-- Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pulse_style.css') }}?v={{ config.get('VERSION', '1.0') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}?v={{ config.get('VERSION', '1.0') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons/css/flag-icons.min.css">
    
    <!-- Meta tags -->
    <meta name="description" content="PulseAI - AI-платформа для персонализированных дайджестов новостей и умного календаря событий">
    <meta name="keywords" content="AI, новости, дайджест, события, искусственный интеллект">
</head>
<body>
    <!-- Site Header -->
    <header class="pulse-header">
        <div class="container">
            <!-- Logo Section -->
            <div class="logo-section">
                <a href="/" class="pulse-logo">
                    <svg width="40" height="40" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="headerBgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#FFFFFF"/>
                                <stop offset="100%" style="stop-color:#F8FAFC"/>
                            </linearGradient>
                        </defs>
                        
                        <!-- Main container -->
                        <rect width="512" height="512" rx="96" ry="96" fill="url(#headerBgGradient)"/>
                        
                        <!-- Letter P -->
                        <g transform="translate(128, 96)">
                            <path d="M0,0 L0,320 L32,320 L32,192 L128,192 C176,192 216,152 216,104 C216,56 176,16 128,16 L32,16 L32,0 Z M32,48 L128,48 C152,48 184,64 184,104 C184,144 152,160 128,160 L32,160 Z" 
                                  fill="#1E3A8A"/>
                            
                            <!-- Pulse line -->
                            <g transform="translate(16, 80)">
                                <path d="M16,64 L48,64 L64,16 L80,112 L96,32 L112,80 L128,64 L176,64" 
                                      stroke="#6B21A8" 
                                      stroke-width="20" 
                                      fill="none" 
                                      stroke-linecap="round"/>
                            </g>
                        </g>
                        
                        <!-- AI Badge -->
                        <g transform="translate(352, 64)">
                            <circle cx="64" cy="64" r="64" fill="#3B82F6"/>
                            <text x="64" y="84" 
                                  font-family="Inter, Arial, sans-serif" 
                                  font-size="48" 
                                  font-weight="bold" 
                                  fill="white" 
                                  text-anchor="middle">AI</text>
                        </g>
                    </svg>
                </a>
                <h1>PulseAI</h1>
            </div>

            <!-- Navigation -->
            <nav class="pulse-nav">
                <a href="/" class="{% if active_page == 'home' %}active{% endif %}">Главная</a>
                <a href="/digest" class="{% if active_page == 'digest' %}active{% endif %}">Дайджест</a>
                <a href="/events" class="{% if active_page == 'events' %}active{% endif %}">События</a>
            </nav>
        </div>
    </header>

    <!-- Subnav (filters, etc.) -->
    {% block subnav %}{% endblock %}

    <!-- Page Content -->
    <main class="page-content">
        {% block content %}{% endblock %}
    </main>
</body>
</html>