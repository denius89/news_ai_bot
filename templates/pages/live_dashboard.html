{% extends "base.html" %}

{% block content %}
<!-- Live Dashboard styles -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/live_dashboard.css') }}">

<div class="live-dashboard">
    <div class="dashboard-header">
        <h1 class="dashboard-title">‚ö° PulseAI Live Dashboard</h1>
        <p class="dashboard-subtitle">–†–µ–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
        
        <!-- Connection Status -->
        <div class="status-indicator" data-reactor="connection-status">
            <span class="pulse-animation">üîó</span> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...
        </div>
    </div>
    
    <div class="dashboard-grid">
        <!-- AI Metrics Card -->
        <div class="dashboard-card">
            <h3 class="card-title">
                <span class="card-icon">üß†</span>
                AI –ú–µ—Ç—Ä–∏–∫–∏
            </h3>
            
            <div class="metrics-grid" data-reactor="metrics">
                <div class="metric-item">
                    <div class="metric-value" data-metric="credibility">--%</div>
                    <div class="metric-label">–î–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value" data-metric="importance">--%</div>
                    <div class="metric-label">–í–∞–∂–Ω–æ—Å—Ç—å</div>
                </div>
            </div>
            
            <div class="text-center mt-4">
                <div class="metric-label" data-metric="timestamp">–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: --</div>
            </div>
        </div>
        
        <!-- News Processing Card -->
        <div class="dashboard-card">
            <h3 class="card-title">
                <span class="card-icon">üì∞</span>
                –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
            </h3>
            
            <div class="metrics-grid">
                <div class="metric-item">
                    <div class="metric-value" data-reactor="news-counter">0</div>
                    <div class="metric-label">–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value" id="processing-time">0s</div>
                    <div class="metric-label">–í—Ä–µ–º—è</div>
                </div>
            </div>
            
            <div class="mt-4">
                <span data-reactor="digest-status" class="status-indicator status-connected">–ì–æ—Ç–æ–≤</span>
            </div>
        </div>
        
        <!-- System Health Card -->
        <div class="dashboard-card">
            <h3 class="card-title">
                <span class="card-icon">üíö</span>
                –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
            </h3>
            
            <div class="metrics-grid">
                <div class="metric-item">
                    <div class="metric-value" data-reactor="system-status">OK</div>
                    <div class="metric-label">–°—Ç–∞—Ç—É—Å</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value" id="uptime">0m</div>
                    <div class="metric-label">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</div>
                </div>
            </div>
            
            <div class="mt-4">
                <div class="metric-label">–ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞: <span id="last-health-check">--</span></div>
            </div>
        </div>
        
        <!-- Events Feed Card -->
        <div class="dashboard-card">
            <h3 class="card-title">
                <span class="card-icon">üì°</span>
                –õ–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π
            </h3>
            
            <div class="events-feed" data-reactor="events-container">
                <div class="event-item">
                    <div class="event-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ PulseAI Reactor!</div>
                    <div class="event-time">–°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Controls -->
    <div class="controls">
        <button class="btn btn-primary" onclick="testEvent()">üéØ –¢–µ—Å—Ç —Å–æ–±—ã—Ç–∏–µ</button>
        <button class="btn btn-secondary" onclick="pingReactor()">üì° Ping Reactor</button>
        <button class="btn btn-secondary" onclick="toggleNotifications()">üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
    </div>
</div>

<!-- Live Dashboard JavaScript -->
<script src="{{ url_for('static', filename='js/live_dashboard.js') }}"></script>
{% endblock %}
