# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è Self-Tuning –º–æ–¥–µ–ª–µ–π

## üìÖ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```
–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±—É—á–µ–Ω–∏–µ: 6 –æ–∫—Ç—è–±—Ä—è 2025, 08:34 UTC (10 –¥–Ω–µ–π –Ω–∞–∑–∞–¥)
–í–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏: v1
–¢–æ—á–Ω–æ—Å—Ç—å: F1=0.86 (importance), F1=0.90 (credibility)
–†–∞–∑–º–µ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞: 1330 –ø—Ä–∏–º–µ—Ä–æ–≤
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª–∏ —É—Å—Ç–∞—Ä–µ–ª–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ —Å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º

–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `tools/news/fetch_and_train.py`, –∫–æ—Ç–æ—Ä—ã–π:

1. ‚úÖ –ü–∞—Ä—Å–∏—Ç —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ –≤—Å–µ—Ö 255 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ (–ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)
3. ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç –Ω–æ–≤—ã–µ –æ–±—É—á–∞—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î
4. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–æ–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª–∏
5. ‚úÖ –ó–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–µ –º–æ–¥–µ–ª–∏, –µ—Å–ª–∏ –Ω–æ–≤—ã–µ –ª—É—á—à–µ

---

## üöÄ –°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫**

```bash
# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫ (–ø–∞—Ä—Å–∏–Ω–≥ + –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ)
python tools/news/fetch_and_train.py

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ (–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª)
python tools/news/fetch_and_train.py --force-train

# –¢–æ–ª—å–∫–æ –ø–∞—Ä—Å–∏–Ω–≥ (–±–µ–∑ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è)
python tools/news/fetch_and_train.py --skip-train

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
python tools/news/fetch_and_train.py --verbose
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ shell-—Å–∫—Ä–∏–ø—Ç**

```bash
# –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
./scripts/auto_fetch_and_train.sh
```

### **–í–∞—Ä–∏–∞–Ω—Ç 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (CRON)**

#### **3.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ crontab (Linux/macOS)**

```bash
# –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å –æ–¥–Ω—É –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç—Ä–æ–∫:

# –ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ –≤ 00:00, 06:00, 12:00, 18:00
0 */6 * * * cd /Users/denisfedko/news_ai_bot && ./scripts/auto_fetch_and_train.sh >> logs/cron.log 2>&1

# –ö–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤ –≤ 08:00 –∏ 20:00
0 8,20 * * * cd /Users/denisfedko/news_ai_bot && ./scripts/auto_fetch_and_train.sh >> logs/cron.log 2>&1

# –†–∞–∑ –≤ –¥–µ–Ω—å –≤ 03:00 –Ω–æ—á–∏
0 3 * * * cd /Users/denisfedko/news_ai_bot && ./scripts/auto_fetch_and_train.sh >> logs/cron.log 2>&1

# –ö–∞–∂–¥—ã–µ 3 —á–∞—Å–∞
0 */3 * * * cd /Users/denisfedko/news_ai_bot && ./scripts/auto_fetch_and_train.sh >> logs/cron.log 2>&1
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞–∂–¥—ã–µ 6-12 —á–∞—Å–æ–≤

#### **3.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã cron**

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
crontab -l

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ cron
tail -f logs/cron.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
tail -f logs/fetch_and_train.log

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
ls -lt logs/auto_fetch_train_*.log | head -5
```

#### **3.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd timer (Linux –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)**

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `/etc/systemd/system/pulseai-retrain.service`:

```ini
[Unit]
Description=PulseAI News Fetch and Model Retraining
After=network.target

[Service]
Type=oneshot
User=denisfedko
WorkingDirectory=/Users/denisfedko/news_ai_bot
ExecStart=/Users/denisfedko/news_ai_bot/scripts/auto_fetch_and_train.sh
StandardOutput=append:/Users/denisfedko/news_ai_bot/logs/systemd_retrain.log
StandardError=append:/Users/denisfedko/news_ai_bot/logs/systemd_retrain_error.log
```

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `/etc/systemd/system/pulseai-retrain.timer`:

```ini
[Unit]
Description=Run PulseAI retraining every 6 hours
Requires=pulseai-retrain.service

[Timer]
OnCalendar=*-*-* 0,6,12,18:00:00
Persistent=true

[Install]
WantedBy=timers.target
```

–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å timer:

```bash
sudo systemctl daemon-reload
sudo systemctl enable pulseai-retrain.timer
sudo systemctl start pulseai-retrain.timer

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status pulseai-retrain.timer
sudo systemctl list-timers pulseai-retrain.timer
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `config/data/ai_optimization.yaml`:

```yaml
features:
  self_tuning_enabled: true         # –í–∫–ª—é—á–∏—Ç—å self-tuning
  self_tuning_auto_train: true      # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ

self_tuning:
  interval_days: 2                  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è (–¥–Ω–∏)
  min_samples: 500                  # –ú–∏–Ω–∏–º—É–º –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
  max_samples: 10000                # –ú–∞–∫—Å–∏–º—É–º –ø—Ä–∏–º–µ—Ä–æ–≤
  model_type: "logreg"              # –¢–∏–ø –º–æ–¥–µ–ª–∏ (logreg | randomforest)
  replace_threshold: 0.01           # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –∑–∞–º–µ–Ω—ã (1%)
  backup_enabled: true              # –°–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –º–æ–¥–µ–ª–µ–π
```

### **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è:**

```yaml
# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å
interval_days: 1

# –ö–∞–∂–¥—ã–µ 2 –¥–Ω—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
interval_days: 2

# –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
interval_days: 7
```

---

## üîç –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–∏

```python
def should_retrain():
    # 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∫–ª—é—á–µ–Ω–æ –ª–∏ —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ
    if not self_tuning_enabled:
        return False
    
    # 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª
    days_since_last_training = now - last_training_date
    if days_since_last_training >= interval_days:
        return True  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –¥–æ—Å—Ç–∏–≥–Ω—É—Ç
    
    # 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    if new_examples_count >= min_samples:
        return True  # –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö
    
    return False
```

**–£—Å–ª–æ–≤–∏—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è:**

1. ‚úÖ `self_tuning_enabled = true`
2. ‚úÖ –ü—Ä–æ—à–ª–æ >= `interval_days` —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±—É—á–µ–Ω–∏—è
3. ‚úÖ –°–æ–±—Ä–∞–Ω–æ >= `min_samples` –ø—Ä–∏–º–µ—Ä–æ–≤ (500)

**–£—Å–ª–æ–≤–∏—è –∑–∞–º–µ–Ω—ã –º–æ–¥–µ–ª–∏:**

1. ‚úÖ –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
2. ‚úÖ F1-score –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏ > F1-score —Å—Ç–∞—Ä–æ–π + `replace_threshold`
3. ‚úÖ –ï—Å–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ >= 1%, –º–æ–¥–µ–ª—å –∑–∞–º–µ–Ω—è–µ—Ç—Å—è

---

## üìä –ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è

```
–®–ê–ì 1: –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π
  ‚Üì –°–æ–±—Ä–∞–Ω–æ 200 –Ω–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
  ‚Üì –û—Ü–µ–Ω–µ–Ω—ã —á–µ—Ä–µ–∑ OpenAI (importance, credibility)
  ‚Üì –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ë–î

–®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
  ‚Üì –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±—É—á–µ–Ω–∏–µ: 10 –¥–Ω–µ–π –Ω–∞–∑–∞–¥
  ‚Üì –ò–Ω—Ç–µ—Ä–≤–∞–ª: 2 –¥–Ω—è
  ‚Üì –†–µ—à–µ–Ω–∏–µ: –ü–ï–†–ï–û–ë–£–ß–ò–¢–¨ ‚úÖ

–®–ê–ì 3: –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
  ‚Üì –ò–∑ –ë–î: 1500 –ø—Ä–∏–º–µ—Ä–æ–≤ (–Ω–æ–≤–æ—Å—Ç–∏ —Å AI-–æ—Ü–µ–Ω–∫–∞–º–∏)
  ‚Üì –ò–∑ rejected.log: 200 –ø—Ä–∏–º–µ—Ä–æ–≤ (–æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏)
  ‚Üì –í—Å–µ–≥–æ: 1700 –ø—Ä–∏–º–µ—Ä–æ–≤
  ‚Üì –ò–∑–≤–ª–µ—á–µ–Ω–æ 17 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä

–®–ê–ì 4: –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
  ‚Üì Train/Test split: 80/20
  ‚Üì –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (StandardScaler)
  ‚Üì LogisticRegression –æ–±—É—á–µ–Ω–∏–µ
  ‚Üì Cross-validation –æ—Ü–µ–Ω–∫–∞

–®–ê–ì 5: –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
  ‚Üì Importance: F1=0.875 (—Å—Ç–∞—Ä–∞—è 0.860, —É–ª—É—á—à–µ–Ω–∏–µ +1.5%)
  ‚Üì Credibility: F1=0.915 (—Å—Ç–∞—Ä–∞—è 0.902, —É–ª—É—á—à–µ–Ω–∏–µ +1.3%)
  ‚Üì –†–µ—à–µ–Ω–∏–µ: –ó–ê–ú–ï–ù–ò–¢–¨ –º–æ–¥–µ–ª–∏ ‚úÖ

–®–ê–ì 6: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  ‚Üì –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø —Å—Ç–∞—Ä—ã—Ö –º–æ–¥–µ–ª–µ–π
  ‚Üì –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ (.pkl)
  ‚Üì –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (meta.json)
  ‚Üì –í–µ—Ä—Å–∏—è: v1 ‚Üí v2
```

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª–µ–π:**

```bash
# –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±—É—á–µ–Ω–∏—è
cat models/local_predictor_meta.json

# –ö–æ–≥–¥–∞ –æ–±—É—á–∞–ª–∞—Å—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑
python3 -c "
import json
from datetime import datetime
with open('models/local_predictor_meta.json') as f:
    meta = json.load(f)
    last = datetime.fromisoformat(meta['timestamp'])
    print(f'–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±—É—á–µ–Ω–∏–µ: {last}')
    print(f'–í–µ—Ä—Å–∏—è: v{meta[\"version\"]}')
    print(f'F1 Importance: {meta[\"importance_model\"][\"f1_score\"]:.3f}')
    print(f'F1 Credibility: {meta[\"credibility_model\"][\"f1_score\"]:.3f}')
"
```

### **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∞—Ç–∞—Å–µ—Ç:**

```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤
wc -l data/self_tuning_dataset.csv

# –ü–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞
head -20 data/self_tuning_dataset.csv
```

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
tail -100 logs/self_tuning.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–π –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
ls -lt logs/auto_fetch_train_*.log | head -1 | xargs tail -50
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### **–î–ª—è production (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞):**

```yaml
interval_days: 7              # –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
min_samples: 1000             # –ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö = —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ
replace_threshold: 0.02       # 2% —É–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –∑–∞–º–µ–Ω—ã
```

### **–î–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è (–±—ã—Å—Ç—Ä–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è):**

```yaml
interval_days: 1              # –ö–∞–∂–¥—ã–π –¥–µ–Ω—å
min_samples: 500              # –ë—ã—Å—Ç—Ä–µ–µ –Ω–∞—á–∏–Ω–∞–µ—Ç –æ–±—É—á–∞—Ç—å—Å—è
replace_threshold: 0.005      # 0.5% —É–ª—É—á—à–µ–Ω–∏–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
```

### **–î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤:**

```yaml
interval_days: 14             # –†–∞–∑ –≤ –¥–≤–µ –Ω–µ–¥–µ–ª–∏
min_samples: 2000             # –†–µ–∂–µ, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ
replace_threshold: 0.03       # –¢–æ–ª—å–∫–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
```

---

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π workflow

### **–î–æ–±–∞–≤–∏—Ç—å –≤ Makefile:**

```makefile
# –ü–∞—Ä—Å–∏–Ω–≥ —Å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º
fetch-and-train:
	@echo "üöÄ –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π + –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π"
	python3 tools/news/fetch_and_train.py

# –¢–æ–ª—å–∫–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ (–±–µ–∑ –ø–∞—Ä—Å–∏–Ω–≥–∞)
retrain:
	@echo "ü§ñ –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π"
	python3 tools/ai/train_models.py

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
retrain-force:
	@echo "üîÑ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ"
	python3 tools/news/fetch_and_train.py --force-train --skip-fetch
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
make fetch-and-train   # –ü–∞—Ä—Å–∏–Ω–≥ + –∞–≤—Ç–æ-–ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
make retrain           # –¢–æ–ª—å–∫–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
make retrain-force     # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
```

---

## ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ —Å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å
python tools/news/fetch_and_train.py --force-train

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
cat models/local_predictor_meta.json

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
crontab -e
# –î–æ–±–∞–≤–∏—Ç—å: 0 */6 * * * cd /Users/denisfedko/news_ai_bot && ./scripts/auto_fetch_and_train.sh >> logs/cron.log 2>&1

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ cron —Ä–∞–±–æ—Ç–∞–µ—Ç
crontab -l
```

---

## üìû –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ `scripts/auto_fetch_and_train.sh`:

```bash
# –ü—Ä–∏ —É—Å–ø–µ—Ö–µ
curl -X POST "https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/sendMessage" \
    -d chat_id="$ADMIN_CHAT_ID" \
    -d text="‚úÖ –ú–æ–¥–µ–ª–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω—ã! F1: 0.87 (+2%)"

# –ü—Ä–∏ –æ—à–∏–±–∫–µ
curl -X POST "https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/sendMessage" \
    -d chat_id="$ADMIN_CHAT_ID" \
    -d text="‚ùå –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏."
```

---

## üéâ –ò—Ç–æ–≥

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç:

1. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –∫–∞–∂–¥—ã–µ 6-12 —á–∞—Å–æ–≤
2. ‚úÖ –°–æ–±–∏—Ä–∞—Ç—å –Ω–æ–≤—ã–µ –æ–±—É—á–∞—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î
3. ‚úÖ –ü–µ—Ä–µ–æ–±—É—á–∞—Ç—å –º–æ–¥–µ–ª–∏ –∫–∞–∂–¥—ã–µ 2 –¥–Ω—è (–∏–ª–∏ –ø–æ –≤–∞—à–µ–º—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é)
4. ‚úÖ –£–ª—É—á—à–∞—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
5. ‚úÖ –≠–∫–æ–Ω–æ–º–∏—Ç—å 60-70% AI-–≤—ã–∑–æ–≤–æ–≤ –∫ OpenAI

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∞–º–æ–æ–±—É—á–∞—é—â–∞—è—Å—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞! üöÄ

