# News AI Bot

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–°–æ–∑–¥–∞—Ç—å —É–º–Ω–æ–≥–æ –±–æ—Ç–∞ –¥–ª—è —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –Ω–æ–≤–æ—Å—Ç–µ–π (–∫—Ä–∏–ø—Ç–∞, —ç–∫–æ–Ω–æ–º–∏–∫–∞), —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:
	- –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏
	- –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å
	- –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
	- —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç—ã –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π
	- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å AI-–∞–Ω–∞–ª–∏—Ç–∏–∫—É (—É—Ç—Ä–æ/–≤–µ—á–µ—Ä)

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

> ‚ÑπÔ∏è –ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ `CODEMAP.md`.  
> –ó–¥–µ—Å—å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω —Å–Ω–∏–º–æ–∫ –Ω–∞ 2025-09-18.
```
‚îú‚îÄ‚îÄ CODEMAP.md
‚îú‚îÄ‚îÄ MASTER_FILE.md
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ TASKS.md
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ db_models.py
‚îú‚îÄ‚îÄ parsers/
‚îÇ   ‚îî‚îÄ‚îÄ rss_parser.py
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îî‚îÄ‚îÄ repo_map.py
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_ai_modules.py
‚îÇ   ‚îî‚îÄ‚îÄ test_supabase.py
‚îî‚îÄ‚îÄ logs/
```

## üß≠ Git-–ø—Ä–∞–≤–∏–ª–∞
	- –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞: `main`
	- –ù–æ–≤—ã–µ —Ñ–∏—á–∏: `feature/<–∏–º—è>`
	- –ü—Ä–∞–≤–∫–∞ –±–∞–≥–æ–≤: `fix/<–∏–º—è>`
	- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: `docs/<–∏–º—è>`
	- –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ –≤—Å–µ–≥–¥–∞:

  ```bash
  git add .
  git commit -m "type: –æ–ø–∏—Å–∞–Ω–∏–µ"
  git push
  ```
 
## ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∞–≤–æ–∫ (GALLOP)
	1.	Goal ‚Äî —Ü–µ–ª—å –ø—Ä–∞–≤–∫–∏
	2.	Action ‚Äî —á—Ç–æ –º–µ–Ω—è–µ–º
	3.	Location ‚Äî –≥–¥–µ (—Ñ–∞–π–ª/–º–æ–¥—É–ª—å)
	4.	Logic ‚Äî –∑–∞—á–µ–º
	5.	Output ‚Äî —á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è
	6.	Push ‚Äî –Ω–µ –∑–∞–±—ã–≤–∞–µ–º git add . && git commit && git push

---

## üß† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
	-	Python 3.11+
	-	Flask (WebApp)
	-	SQLite (–ë–î)
	-	OpenAI API (GPT-4o-mini)
	-	Requests, BeautifulSoup (–ø–∞—Ä—Å–∏–Ω–≥)
	-	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –Ω–æ–≤–æ—Å—Ç–µ–π

---

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
	-	Python + venv
	-	Git + GitHub
	-	Render –¥–ª—è –¥–µ–ø–ª–æ—è
	-	–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env, Render Secrets)

---

## üìå –°—Ç–∞—Ç—É—Å
	-	–ü–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞
	-	–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
	-	Git-–ø—Ä–æ—Ü–µ—Å—Å
	-	–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
	-	–ü–µ—Ä–≤—ã–π –ø–∞—Ä—Å–µ—Ä
	-	AI-–æ—Ü–µ–Ω–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
	-	–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π
	-	–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üß™ –¢–µ—Å—Ç—ã –∏ –æ—Ç–ª–∞–¥–∫–∞

–í—Å–µ —Ç–µ—Å—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ tests/.
–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π:

```bash
python tests/<–∏–º—è_—Ñ–∞–π–ª–∞>.py
```

### –¢–µ–∫—É—â–∏–µ —Ç–µ—Å—Ç—ã
	- test_openai.py ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ OpenAI API  
	- test_deepl.py ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ —á–µ—Ä–µ–∑ DeepL API  
	- test_supabase.py ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase
	- test_db_insert.py ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞:
    	‚Ä¢ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ RSS
    	‚Ä¢ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI-–æ—Ü–µ–Ω–æ–∫ (credibility, importance)
    	‚Ä¢ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤ Supabase (–≤–∫–ª—é—á–∞—è published_at –∫–∞–∫ ISO-—Å—Ç—Ä–æ–∫—É)

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Supabase (PostgreSQL).

### –¢–∞–±–ª–∏—Ü—ã
	- **news** ‚Äî –Ω–æ–≤–æ—Å—Ç–∏ (title, content, source, published_at)
	- **users** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (telegram_id, created_at)
	- **digests** ‚Äî –¥–∞–π–¥–∂–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (summary, created_at)

### SQL-—Å–∫—Ä–∏–ø—Ç—ã
	- `database/init_tables.sql` ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü
	- `database/seed_data.sql` ‚Äî –Ω–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
---

## üìå –ó–∞–¥–∞—á–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

1. –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–∞—Ä—Å–µ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π:
   - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ `title` –∏ `link`, –Ω–æ –∏ `summary`/`content`.
2. –î–æ–±–∞–≤–∏—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å / webapp) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è.
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π —Å –æ—Ü–µ–Ω–∫–æ–π –≤–∞–∂–Ω–æ—Å—Ç–∏.
4. –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub Actions (CI):
   - —Å–æ–∑–¥–∞—Ç—å `.github/workflows/ci.yml`,
   - —Ö—Ä–∞–Ω–∏—Ç—å `SUPABASE_URL` –∏ `SUPABASE_KEY` –≤ GitHub Secrets,
   - –¥–æ–±–∞–≤–∏—Ç—å –±—ç–π–¥–∂–∏–∫ ¬´CI passing¬ª –≤ `README.md`.