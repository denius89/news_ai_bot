# üì∞ News AI Bot ‚Äî MASTER_FILE

–§–∞–π–ª **MASTER_FILE.md** ‚Äî —Å–≤–æ–¥ –ø—Ä–∞–≤–∏–ª, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞.  
–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.

---

## Docs Index
- [VISION](docs/VISION.md)
- [ROADMAP](docs/ROADMAP.md)
- [COMMUNICATION](docs/COMMUNICATION.md)

---

## –ü—Ä–∞–≤–∏–ª–∞ (–∫–æ—Ä–æ—Ç–∫–æ)
- Git: –∫–æ–º–º–∏—Ç/–ø—É—à –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞.
- –ó–∞–¥–∞—á–∏: –≤ TASKS.md, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã üî¥/üü°/üü¢.
- –†–µ—à–µ–Ω–∏—è –∏ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ —Ñ–∏–∫—Å–∏—Ä—É–µ–º –∑–¥–µ—Å—å.

---

## –†–µ—à–µ–Ω–∏—è –ø–æ –ø–∞—Ä—Å–µ—Ä–∞–º –∏ –±–∞–∑–µ (Day 01)
- rss_parser.py/events_parser.py: –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É –∑–∞–ø–∏—Å–∏ (—Å–º. –Ω–∏–∂–µ —á–µ–∫-–ª–∏—Å—Ç —Ä–µ–≤—å—é).
- db_models.py: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏, –∏–Ω–¥–µ–∫—Å—ã; –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ INFO.

---



## –†–µ—à–µ–Ω–∏—è –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –∏ –æ—á–∏—Å—Ç–∫–µ (Day 02)

### –ß—Ç–æ –∏ –ø–æ—á–µ–º—É
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏:** —É–±—Ä–∞–Ω Axios (–Ω–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ RSS) –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–∫–ª—é—á—ë–Ω Reuters (DNS/–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å). –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ RSS (CoinDesk, Cointelegraph, Bloomberg Markets, TechCrunch –∏ –¥—Ä.).
- **–û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞:** –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `utils/clean_text.py` (–µ–¥–∏–Ω—ã–π –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥).
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è:** `uid = sha256(url|title)`, `upsert` –ø–æ `uid` ‚Äî —É–±—Ä–∞–ª–∏ –¥—É–±–ª–∏ –ø—Ä–∏ –º–∞—Å—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
- **–£—Ç–∏–ª–∏—Ç—ã:** –¥–æ–±–∞–≤–ª–µ–Ω `tools/show_news.py` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ –ë–î.
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:** `COUNTRY_MAP`, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–µ–≥–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `config/constants.py`.
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –æ–±–Ω–æ–≤–ª–µ–Ω—ã `README.md`, `docs/DEPLOY.md`, `docs/ARCHITECTURE.md` (Mermaid-—Å—Ö–µ–º–∞).

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- MIME‚Äë–ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è RSS (`requests` ‚Üí –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Type` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `xml`/`rss`), –∏–Ω–∞—á–µ ‚Äî –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏.
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç: `dateutil` ‚Üí UTC (`astimezone(timezone.utc)`).
- –û—á–∏—Å—Ç–∫–∞ HTML: BeautifulSoup ‚Üí `.get_text()`, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–µ–ª–æ–≤.
- –§–∏–ª—å—Ç—Ä –¥—É–±–ª–µ–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–∞—Ä—Å–µ—Ä–∞ (in‚Äëmemory `seen`) + –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î (`on_conflict="uid"`).
- –õ–æ–≥–∏: –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–≥–µ—Ä—ã `parsers.rss`, `parsers.events`, `database`, –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —á–µ—Ä–µ–∑ `utils/logging_setup.py`.

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- –î—É–±–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ `news` –Ω–µ—Ç.
- –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π: –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã/–∑–∞–º–µ–Ω–µ–Ω—ã.
- –¢–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤ –∏ —É—Ç–∏–ª–∏—Ç –ø—Ä–æ—Ö–æ–¥—è—Ç.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

> ‚ÑπÔ∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**
> –§–∞–π–ª `CODEMAP.md` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–º [`tools/repo_map.py`](tools/repo_map.py).
> –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ `MASTER_FILE.md` –∏ `CODEMAP.md` —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É `CODEMAP.md`.
> –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ä—Ç—É –ø—Ä–æ–µ–∫—Ç–∞:
>
> ```bash
> python tools/repo_map.py
> ```

üìå –°–Ω–∏–º–æ–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞ –º–æ–º–µ–Ω—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∞–∫—Ç—É–∞–ª—å–Ω—É—é **–≤—Å–µ–≥–¥–∞** —Å–º–æ—Ç—Ä–∏ –≤ `CODEMAP.md`):

```text
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ integration.yml
‚îÇ       ‚îî‚îÄ‚îÄ tests.yml
‚îú‚îÄ‚îÄ ai_modules/
‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îú‚îÄ‚îÄ credibility.py
‚îÇ   ‚îî‚îÄ‚îÄ importance.py
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îú‚îÄ‚îÄ constants.py
‚îÇ   ‚îú‚îÄ‚îÄ logging.yaml
‚îÇ   ‚îî‚îÄ‚îÄ sources.yaml
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îú‚îÄ‚îÄ db_models.py
‚îÇ   ‚îú‚îÄ‚îÄ init_tables.sql
‚îÇ   ‚îî‚îÄ‚îÄ seed_data.sql
‚îú‚îÄ‚îÄ digests/
‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îú‚îÄ‚îÄ ai_summary.py
‚îÇ   ‚îî‚îÄ‚îÄ generator.py
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md
‚îÇ   ‚îú‚îÄ‚îÄ COMMUNICATION.md
‚îÇ   ‚îú‚îÄ‚îÄ DEPLOY.md
‚îÇ   ‚îú‚îÄ‚îÄ ROADMAP.md
‚îÇ   ‚îî‚îÄ‚îÄ VISION.md
‚îú‚îÄ‚îÄ logs/
‚îú‚îÄ‚îÄ parsers/
‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îú‚îÄ‚îÄ events_parser.py
‚îÇ   ‚îî‚îÄ‚îÄ rss_parser.py
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îî‚îÄ‚îÄ news_routes.py
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îî‚îÄ‚îÄ style.css
‚îú‚îÄ‚îÄ telegram_bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ bot.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ formatters.py
‚îÇ   ‚îî‚îÄ‚îÄ handlers/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ start.py
‚îÇ       ‚îú‚îÄ‚îÄ digest.py
‚îÇ       ‚îú‚îÄ‚îÄ digest_ai.py
‚îÇ       ‚îî‚îÄ‚îÄ events.py
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ base.html
‚îÇ   ‚îú‚îÄ‚îÄ digest.html
‚îÇ   ‚îú‚îÄ‚îÄ events.html
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py
‚îÇ   ‚îú‚îÄ‚îÄ test_ai_modules.py
‚îÇ   ‚îú‚îÄ‚îÄ test_ai_summary.py
‚îÇ   ‚îú‚îÄ‚îÄ test_clean_text.py
‚îÇ   ‚îú‚îÄ‚îÄ test_db_content.py
‚îÇ   ‚îú‚îÄ‚îÄ test_db_insert.py
‚îÇ   ‚îú‚îÄ‚îÄ test_deepl.py
‚îÇ   ‚îú‚îÄ‚îÄ test_digests.py
‚îÇ   ‚îú‚îÄ‚îÄ test_main.py
‚îÇ   ‚îú‚îÄ‚îÄ test_main_import.py
‚îÇ   ‚îú‚îÄ‚îÄ test_openai.py
‚îÇ   ‚îú‚îÄ‚îÄ test_parsers.py
‚îÇ   ‚îú‚îÄ‚îÄ test_routes.py
‚îÇ   ‚îú‚îÄ‚îÄ test_supabase.py
‚îÇ   ‚îî‚îÄ‚îÄ test_webapp.py
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îú‚îÄ‚îÄ fetch_and_store_events.py
‚îÇ   ‚îú‚îÄ‚îÄ fetch_and_store_news.py
‚îÇ   ‚îú‚îÄ‚îÄ fix_old_news.py
‚îÇ   ‚îú‚îÄ‚îÄ repo_map.py
‚îÇ   ‚îî‚îÄ‚îÄ show_news.py
‚îú‚îÄ‚îÄ .editorconfig
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ CODEMAP.md
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ CONTRIBUTING.md
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ MASTER_FILE.md
‚îú‚îÄ‚îÄ pyproject.toml
‚îú‚îÄ‚îÄ pytest.ini
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ setup.cfg
‚îú‚îÄ‚îÄ TASKS.md
‚îî‚îÄ‚îÄ webapp.py
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Supabase (PostgreSQL)** –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–π SQLite.  

### –¢–∞–±–ª–∏—Ü–∞ `news` (–æ—Å–Ω–æ–≤–Ω–∞—è)
| –ü–æ–ª–µ         | –¢–∏–ø         | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|-------------|----------|
| uid          | text (PK)   | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä `sha256(url|title)` |
| title        | text        | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏ |
| link         | text        | –°—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫ |
| published_at | timestamptz | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (UTC) |
| content      | text        | –¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω) |
| credibility  | numeric     | –û—Ü–µ–Ω–∫–∞ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ (AI) |
| importance   | numeric     | –û—Ü–µ–Ω–∫–∞ –≤–∞–∂–Ω–æ—Å—Ç–∏ (AI) |
| source       | text        | –ò—Å—Ç–æ—á–Ω–∏–∫ (–Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏) |
| category     | text        | –ö–∞—Ç–µ–≥–æ—Ä–∏—è (crypto, economy, world, tech, ‚Ä¶) |

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**  
–§—É–Ω–∫—Ü–∏—è `upsert_news` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É `uid = sha256(url|title)`.  
–í—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ `upsert` —Å `on_conflict="uid"`.  

### –¢–∞–±–ª–∏—Ü–∞ `events`
| –ü–æ–ª–µ        | –¢–∏–ø         | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|-------------|----------|
| id          | uuid (PK)   | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| title       | text        | –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è |
| country     | text        | –ö–æ–¥ —Å—Ç—Ä–∞–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `US`) |
| currency    | text        | –í–∞–ª—é—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `USD`) |
| importance  | int         | –í–∞–∂–Ω–æ—Å—Ç—å (1 = low, 2 = medium, 3 = high) |
| event_time  | timestamptz | –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è –≤ UTC |
| fact        | text        | –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| forecast    | text        | –ü—Ä–æ–≥–Ω–æ–∑ |
| previous    | text        | –ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**
- `importance` —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ **int (1‚Äì3)**.
- –ü—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ Investing –∑–Ω–∞—á–µ–Ω–∏—è `low/medium/high` –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ `IMPORTANCE_TO_PRIORITY`.
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π –≤ Telegram-–±–æ—Ç–µ.

---

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- **users** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –±—É–¥—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram-–±–æ—Ç–æ–º).  
  –ü–æ–ª—è: `telegram_id`, `created_at`.  
- **digests** ‚Äî –¥–∞–π–¥–∂–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ).  
  –ü–æ–ª—è: `summary`, `created_at`.  

---

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –§—É–Ω–∫—Ü–∏—è `upsert_news` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É `uid = sha256(url|title)`.  
  –í—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ `upsert` —Å `on_conflict="uid"`.  
- –î–∞—Ç—ã –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –≤ **UTC**.  
- –ï—Å–ª–∏ `content` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí –ø–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å `NULL`.  
- –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —Å–æ–±—ã—Ç–∏–π —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –æ—Ü–µ–Ω–∫–∏ AI (`credibility`, `importance`).  
- –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Supabase –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ SQL-—Å–∫—Ä–∏–ø—Ç—ã (`database/init_tables.sql`, `seed_data.sql`).   

## üìú –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–æ–¥—É–ª—å Python `logging` —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤ `utils/logging_setup.py`. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–æ–≤ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `config/logging.yaml`.

- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –æ—à–∏–±–æ–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI-–¥–∞–π–¥–∂–µ—Å—Ç–∞ (`digest_ai.py`).
- –í –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
  - –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –≤—ã–±—Ä–∞–Ω–Ω–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º,
  - –æ—à–∏–±–∫–∏ OpenAI –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞.
- –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.


### –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª** `logs/app.log`.
- –î–ª—è —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Ä–æ—Ç–∞—Ü–∏—è**: –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º (`app.log.1`, `app.log.2`, ‚Ä¶).
- –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤:
    
    YYYY-MM-DD HH:MM:SS,mmm [LEVEL] –°–æ–æ–±—â–µ–Ω–∏–µ
- –í –ª–æ–≥–∞—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:
- —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (`name`, `category`, `url`),
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞,
- –∏—Ç–æ–≥–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π.

–ü—Ä–∏–º–µ—Ä:
    
    2025-09-18 17:36:52,841 [INFO] –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ 24 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (all)...
    2025-09-18 17:36:52,842 [INFO]   CoinDesk (crypto): https://www.coindesk.com/arc/outboundfeeds/rss/
    2025-09-18 17:36:52,843 [INFO]   BBC World (world): http://feeds.bbci.co.uk/news/world/rss.xml
    2025-09-18 17:36:53,012 [INFO] –ü–æ–ª—É—á–µ–Ω–æ 50 –Ω–æ–≤–æ—Å—Ç–µ–π. –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ –±–∞–∑—É...

### –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å
- **–ö–æ–Ω—Å–æ–ª—å** ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- **logs/app.log** ‚Äî –∏—Å—Ç–æ—Ä–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (—Å —Ä–æ—Ç–∞—Ü–∏–µ–π).

> ‚ö†Ô∏è –ü–∞–ø–∫–∞ `logs/` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `.gitignore`, —á—Ç–æ–±—ã –ª–æ–≥–∏ –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–æ—Ç–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `main.py`:
```python
import logging
from logging.handlers import RotatingFileHandler
import os

os.makedirs("logs", exist_ok=True)

logger = logging.getLogger("news_ai_bot")
logger.setLevel(logging.INFO)

formatter = logging.Formatter("%(asctime)s [%(levelname)s] %(message)s")

file_handler = RotatingFileHandler("logs/app.log", maxBytes=1_000_000, backupCount=3)
file_handler.setFormatter(formatter)

console_handler = logging.StreamHandler()
console_handler.setFormatter(formatter)

if not logger.handlers:
    logger.addHandler(file_handler)
    logger.addHandler(console_handler) 
```
## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –∏ —É—Ç–∏–ª–∏—Ç—ã

### –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç `main.py`
–ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π (ETL) –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞.

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞:
    
    # –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –º–∞–∫—Å–∏–º—É–º 20 –Ω–æ–≤–æ—Å—Ç–µ–π —Å –∫–∞–∂–¥–æ–≥–æ (–∏—Ç–æ–≥–æ –¥–æ 480), –ø–æ—Ç–æ–º –æ–±—â–∏–π —Å—Ä–µ–∑ 100
    python main.py --source all --per-source-limit 20 --limit 100
    
    # —Ç–æ–ª—å–∫–æ –∫—Ä–∏–ø—Ç–æ, –ø–æ 20 –Ω–æ–≤–æ—Å—Ç–µ–π —Å –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    python main.py --source crypto --per-source-limit 20
    
    # —Ç–æ–ª—å–∫–æ —ç–∫–æ–Ω–æ–º–∏–∫–∞, –≤—Å–µ–≥–æ –¥–æ 10 –Ω–æ–≤–æ—Å—Ç–µ–π
    python main.py --source economy --limit 10
    
    # —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 –Ω–æ–≤–æ—Å—Ç–µ–π
    python main.py --digest 5
    
    # —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç —Å –ø–æ–º–æ—â—å—é AI
    python main.py --digest 5 --ai

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `--source` ‚Äî –Ω–∞–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: `all` | `crypto` | `economy` | `world` | `technology` | `politics`  
- `--per-source-limit` ‚Äî –º–∞–∫—Å–∏–º—É–º –Ω–æ–≤–æ—Å—Ç–µ–π, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Å **–∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20)  
- `--limit` ‚Äî –æ–±—â–∏–π –º–∞–∫—Å–∏–º—É–º –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ –ø—Ä–æ–≥–æ–Ω (—Å—Ä–µ–∑ —Å–≤–µ—Ä—Ö—É, –ø–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)  
- `--digest` ‚Äî —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –¥–∞–π–¥–∂–µ—Å—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –Ω–æ–≤–æ—Å—Ç–µ–π)  
- `--ai` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞ (–≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞)  

### –£—Ç–∏–ª–∏—Ç–∞ `tools/show_news.py`
–í—ã–≤–æ–¥–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ –±–∞–∑—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

–ü—Ä–∏–º–µ—Ä:
    
    python tools/show_news.py --limit 5

---

### –£—Ç–∏–ª–∏—Ç–∞ `tools/fix_old_news.py`
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ –±–∞–∑–µ:

- –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ `source`, –µ—Å–ª–∏ –æ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.  
- –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—É—Å—Ç–æ–π `content`, –µ—Å–ª–∏ –ø–æ—è–≤–∏–ª–æ—Å—å –æ–ø–∏—Å–∞–Ω–∏–µ.  
- –ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤—ã–±–æ—Ä–æ—á–Ω–æ —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–ø–∞–≤—à–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤).  

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:
    
    python tools/fix_old_news.py --mode fill-missing

## üß≠ Git-–ø—Ä–∞–≤–∏–ª–∞
- –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞: `main`
- –ù–æ–≤—ã–µ —Ñ–∏—á–∏: `feature/<–∏–º—è>`
- –ü—Ä–∞–≤–∫–∞ –±–∞–≥–æ–≤: `fix/<–∏–º—è>`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: `docs/<–∏–º—è>`
- –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ –≤—Å–µ–≥–¥–∞:

  ```bash
  git add .
  git commit -m "type: –æ–ø–∏—Å–∞–Ω–∏–µ"
  git push
  ```
 
## ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∞–≤–æ–∫ (GALLOP)
1.  Goal ‚Äî —Ü–µ–ª—å –ø—Ä–∞–≤–∫–∏
2.  Action ‚Äî —á—Ç–æ –º–µ–Ω—è–µ–º
3.  Location ‚Äî –≥–¥–µ (—Ñ–∞–π–ª/–º–æ–¥—É–ª—å)
4.  Logic ‚Äî –∑–∞—á–µ–º
5.  Output ‚Äî —á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è
6.  Push ‚Äî –Ω–µ –∑–∞–±—ã–≤–∞–µ–º git add . && git commit && git push

---

## üß† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.11+** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- **Flask** ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è WebApp.
- **Supabase (PostgreSQL)** ‚Äî –æ–±–ª–∞—á–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–π SQLite.
- **OpenAI API (GPT-4o-mini)** ‚Äî –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –∏ AI-–æ—Ü–µ–Ω–æ–∫.
- **Requests, Feedparser, BeautifulSoup** ‚Äî –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ RSS/HTML.
- **PyYAML** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (`config/sources.yaml`).
- **Logging (RotatingFileHandler)** ‚Äî –µ–¥–∏–Ω—ã–π —Å–±–æ—Ä –ª–æ–≥–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª.
- **Jinja2** (—á–µ—Ä–µ–∑ Flask) ‚Äî —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –¥–ª—è UI (—Å—Ç—Ä–∞–Ω–∏—Ü—ã /digest, /events).
- **Custom CSS (static/style.css)** ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –ø–æ–¥ —Å–≤–µ—Ç–ª—É—é/—Ç—ë–º–Ω—É—é —Ç–µ–º—É –∏ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è **–Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –Ω–æ–≤–æ—Å—Ç–µ–π** —á–µ—Ä–µ–∑ `sources.yaml`.

---

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
-   Python + venv
-   Git + GitHub
-   Render –¥–ª—è –¥–µ–ø–ª–æ—è
-   –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env, Render Secrets)

---

## üìå –°—Ç–∞—Ç—É—Å
-   –ü–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞
-   –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
-   Git-–ø—Ä–æ—Ü–µ—Å—Å
-   –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
-   –ü–µ—Ä–≤—ã–π –ø–∞—Ä—Å–µ—Ä
-   AI-–æ—Ü–µ–Ω–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
-   –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π
-   –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üß™ –¢–µ—Å—Ç—ã –∏ –æ—Ç–ª–∞–¥–∫–∞

–í—Å–µ —Ç–µ—Å—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `tests/`. –î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `pytest`.

### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- –¢–æ–ª—å–∫–æ unit-—Ç–µ—Å—Ç—ã (CI-–ø—Ä–æ—Ñ–∏–ª—å):
  ```bash
  pytest -m "not integration"
  ```
- Unit + –ø–æ–∫—Ä—ã—Ç–∏–µ:
  ```bash
  pytest -m "not integration" --cov=./ --cov-report=term-missing --cov-fail-under=30
  ```
- –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ (–Ω—É–∂–µ–Ω `.env`: `SUPABASE_URL`, `SUPABASE_KEY`, –∏ —Ç.–ø.):
  ```bash
  pytest -m integration
  ```
- –ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç-—Ñ–∞–π–ª–∞/—Ç–µ—Å—Ç–∞:
  ```bash
  pytest tests/test_parsers.py -q
  pytest -k "fetch_rss_dedup" -q
  ```

### üè∑ –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–º–µ—á–∞—é—Ç—Å—è `@pytest.mark.integration` –∏ **–Ω–µ** –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ CI –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### üìå –ù–∞–ª–∏—á–∏–µ —Ç–µ—Å—Ç–æ–≤ (–Ω–∞ Day 2)
- `tests/test_ai_modules.py` ‚Äî –∑–∞–≥–ª—É—à–∫–∏ AI (credibility, importance).  
- `tests/test_clean_text.py` ‚Äî —Ç–µ—Å—Ç—ã –¥–ª—è `utils/clean_text` (—É–¥–∞–ª–µ–Ω–∏–µ HTML-—Ç–µ–≥–æ–≤, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–µ–ª–æ–≤, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤). 
- `tests/test_digests.py` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤/`ai_summary`.  
- `tests/test_main_import.py` ‚Äî –∏–º–ø–æ—Ä—Ç/–≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ `main.py`.  
- `tests/test_parsers.py` ‚Äî `rss_parser` –∏ `events_parser`: –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç, dedup, MIME-guard.  
- `tests/test_routes.py` ‚Äî Flask Blueprints (`news_routes`).  
- `tests/test_webapp.py` ‚Äî –∏–º–ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, Jinja-—Ñ–∏–ª—å—Ç—Ä—ã.  
- `tests/test_db_insert.py` ‚Äî **integration**: `fetch_rss` ‚Üí upsert ‚Üí dedup –≤ –ë–î.  
- `tests/test_supabase.py` ‚Äî **integration**: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase.
  

### üîß Pre-push (–ª–æ–∫–∞–ª—å–Ω–æ)
–ü–µ—Ä–µ–¥ –ø—É—à–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å:
```bash
flake8 .
black --check .
pytest -m "not integration" --cov=./ --cov-report=term-missing --cov-fail-under=30
```
(–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω git hook ‚Äî –æ–Ω –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
---

### SQL-—Å–∫—Ä–∏–ø—Ç—ã (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏)
- `database/init_tables.sql` ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü.  
- `database/seed_data.sql` ‚Äî –Ω–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.  

> ‚ö†Ô∏è –í —Ä–µ–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supabase (PostgreSQL). SQL-—Å–∫—Ä–∏–ø—Ç—ã –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.  

## üìå –ó–∞–¥–∞—á–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

1. –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–∞—Ä—Å–µ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π:
   - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ `title` –∏ `link`, –Ω–æ –∏ `summary`/`content`.
2. –î–æ–±–∞–≤–∏—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å / webapp) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è.
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π —Å –æ—Ü–µ–Ω–∫–æ–π –≤–∞–∂–Ω–æ—Å—Ç–∏.
4. –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub Actions (CI):
   - —Å–æ–∑–¥–∞—Ç—å `.github/workflows/ci.yml`,
   - —Ö—Ä–∞–Ω–∏—Ç—å `SUPABASE_URL` –∏ `SUPABASE_KEY` –≤ GitHub Secrets,
   - –¥–æ–±–∞–≤–∏—Ç—å –±—ç–π–¥–∂–∏–∫ ¬´CI passing¬ª –≤ `README.md`.


## –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á
–ö—Ä–∞—Ç–∫–æ —Ñ–∏–∫—Å–∏—Ä—É–µ–º ¬´–∑–∞—á–µ–º¬ª –¥–µ–ª–∞–µ–º –∑–∞–¥–∞—á—É, —á—Ç–æ–±—ã –Ω–µ —Ç–µ—Ä—è–ª–∞—Å—å –ª–æ–≥–∏–∫–∞.  
–ü—Ä–∏–º–µ—Ä: ¬´–§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–º–∞–º –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã¬ª.

## üìå –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π

- ‚úÖ **Day 01 (24.09.2025)**
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω—ã `CONTRIBUTING.md`, `.editorconfig`, `pyproject.toml`.  
  ‚Ä¢ –ù–∞—Å—Ç—Ä–æ–µ–Ω CI: flake8, black, pytest, coverage, isort, mypy.  
  ‚Ä¢ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã (`ai_modules`, `supabase`, `openai`, `digests`, `parsers`).  
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (`test_main_import`, `test_routes`, `test_webapp`).  
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω—ã `tools/fetch_and_store_events.py` –∏ `tools/show_latest_news.py`.  
  ‚Ä¢ `repo_map.py` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `CODEMAP.md`.  
  ‚Ä¢ –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ black/isort –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É.  
  ‚Ä¢ CI –ø—Ä–æ—Ö–æ–¥–∏—Ç: –æ–±–∞ –±–µ–π–¥–∂–∞ (`main` –∏ `day-01-docs-parsers`) ‚Äî passing.  
  ‚Ä¢ –ò—Ç–æ–≥: Day 01 –∑–∞–≤–µ—Ä—à—ë–Ω.  

- ‚úÖ **Day 02 (25.09.2025)**
  ‚Ä¢ –£–±—Ä–∞–Ω Axios (–Ω–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ RSS) –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–∫–ª—é—á—ë–Ω Reuters.  
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ RSS (CoinDesk, Cointelegraph, Bloomberg Markets, TechCrunch –∏ –¥—Ä.).  
  ‚Ä¢ –í—ã–Ω–µ—Å–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –≤ `utils/clean_text.py`.  
  ‚Ä¢ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω dedup (`uid = sha256(url|title)`, upsert –ø–æ `uid`).  
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω `tools/show_news.py` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π.  
  ‚Ä¢ `COUNTRY_MAP`, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–µ–≥–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `config/constants.py`.  
  ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω—ã `README.md`, `docs/DEPLOY.md`, `docs/ARCHITECTURE.md` (Mermaid-—Å—Ö–µ–º–∞).  
  ‚Ä¢ –ò—Ç–æ–≥: Day 02 –∑–∞–≤–µ—Ä—à—ë–Ω.  

- ‚úÖ **Day 03 (26.09.2025)**
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω Telegram-–±–æ—Ç (aiogram 3.x): —Ö—ç–Ω–¥–ª–µ—Ä—ã `/start`, `/digest`, `/digest_ai`, `/events`.
  ‚Ä¢ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ inline-–∫–Ω–æ–ø–∫–∏ (–Ω–∞–∑–∞–¥, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏).
  ‚Ä¢ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —Å–æ–±—ã—Ç–∏–π (emoji, Credibility, Importance, summary).
  ‚Ä¢ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω AI-–¥–∞–π–¥–∂–µ—Å—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∑–∞ –¥–µ–Ω—å.
  ‚Ä¢ –í `db_models.py` –¥–æ–±–∞–≤–ª–µ–Ω fallback –¥–ª—è `title`, —É–ª—É—á—à–µ–Ω `get_latest_events`.
  ‚Ä¢ –î–æ—Ä–∞–±–æ—Ç–∞–Ω `ai_summary.py`: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω prompt, —É–±—Ä–∞–Ω—ã –æ—à–∏–±–∫–∏ —Å—Ç–∏–ª—è.
  ‚Ä¢ –í –ø–∞–π–ø–ª–∞–π–Ω –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–µ—Ä Investing (`tools/fetch_and_store_events.py`).
  ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω—ã `DEPLOY.md` (–¥–µ–ø–ª–æ–π –±–æ—Ç–∞) –∏ `README.md` (—Ä–∞–∑–¥–µ–ª –ø—Ä–æ Telegram).
  ‚Ä¢ –ò—Ç–æ–≥: Day 03 –∑–∞–≤–µ—Ä—à—ë–Ω.
  ‚Ä¢ –í Telegram-–±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã **inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**:
    ‚Ä¢ `start_inline_keyboard` ‚Äî –ø–µ—Ä–≤–∞—è –∫–Ω–æ–ø–∫–∞ ¬´üöÄ –°—Ç–∞—Ä—Ç¬ª.
    ‚Ä¢ `main_inline_keyboard` ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (üì∞ –ù–æ–≤–æ—Å—Ç–∏, ü§ñ AI-–¥–∞–π–¥–∂–µ—Å—Ç, üìÖ –°–æ–±—ã—Ç–∏—è).
    ‚Ä¢ `back_inline_keyboard` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é.
  ‚Ä¢ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –±–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ inline-–Ω–∞–≤–∏–≥–∞—Ü–∏—é, –±–µ–∑ ReplyKeyboard.
  ‚Ä¢ –¢–µ–ø–µ—Ä—å –±–æ—Ç –≤—Å—Ç—Ä–æ–µ–Ω –≤ –ø–∞–π–ø–ª–∞–π–Ω –ø—Ä–æ–µ–∫—Ç–∞ (—Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥, CI –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ–≥–æ–Ω—è–µ—Ç).

### –®–∞–±–ª–æ–Ω –∑–∞–ø–∏—Å–∏ —Ä–µ—à–µ–Ω–∏—è
**–î–∞—Ç–∞:** YYYY-MM-DD  
**–ß—Ç–æ —Ä–µ—à–∏–ª–∏:**  
–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—É—Ç–∏ —Ä–µ—à–µ–Ω–∏—è.  

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**  
–ö–∞–∫–∏–µ –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏—Å—å.  

**–ü–æ—á–µ–º—É —Ç–∞–∫:**  
–ê—Ä–≥—É–º–µ–Ω—Ç—ã –≤—ã–±–æ—Ä–∞.  

**–í–ª–∏—è–Ω–∏–µ:**  
–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ø—Ä–æ–µ–∫—Ç–µ.

## –ü—Ä–∞–≤–∏–ª–∞ –æ–±—â–µ–Ω–∏—è
- –¢—ã ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ (—Å—Ç–∞–≤–∏—à—å –∑–∞–¥–∞—á–∏, —É—Ç–≤–µ—Ä–∂–¥–∞–µ—à—å —Ä–µ—à–µ–Ω–∏—è).  
- –Ø ‚Äî –ø–æ–º–æ—â–Ω–∏–∫ (—É—Ç–æ—á–Ω—è—é –∑–∞–¥–∞—á–∏, –æ—Ñ–æ—Ä–º–ª—è—é —á–µ–∫-–ª–∏—Å—Ç—ã, –Ω–∞–ø–æ–º–∏–Ω–∞—é –ø—Ä–æ git).  
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∑–∞–¥–∞—á: üî¥ —Å—Ä–æ—á–Ω–æ, üü° —Å–∫–æ—Ä–æ, üü¢ –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å.  
- –¶–∏–∫–ª —Ä–∞–±–æ—Ç—ã:  
  1. –ó–∞–¥–∞—á–∞ ‚Üí 2. –£—Ç–æ—á–Ω–µ–Ω–∏–µ ‚Üí 3. –ß–µ–∫-–ª–∏—Å—Ç ‚Üí 4. Git commit ‚Üí 5. –ò—Ç–æ–≥ –≤ TASKS.md.

## –§–æ—Ä–º–∞—Ç —á–µ–∫-–ª–∏—Å—Ç–æ–≤
- –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –æ—Ñ–æ—Ä–º–ª—è–µ—Ç—Å—è –∫–∞–∫ –∫–∞—Ä—Ç–æ—á–∫–∞:  
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫  
  - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç  
  - –ö–æ–Ω—Ç–µ–∫—Å—Ç (–∑–∞—á–µ–º)  
  - –ü–æ–¥–∑–∞–¥–∞—á–∏ (—á–µ–∫-–ª–∏—Å—Ç)  
  - –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏  
